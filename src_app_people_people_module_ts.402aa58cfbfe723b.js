"use strict";(self.webpackChunkal_angular_course_project=self.webpackChunkal_angular_course_project||[]).push([["src_app_people_people_module_ts"],{3864:(Ze,_,a)=>{a.r(_),a.d(_,{PeopleModule:()=>ye});var b=a(7425),e=a(4966),l=a(7304),C=a(2692),p=a(5650),L=a(1300),x=a(9781),m=a(8196),c=a(7644),g=a(5931),r=a(6733);const A=t=>["/people",t];let S=(()=>{class t{constructor(){this.PROFILE_IMAGE_SIZES=l.VI}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-mini-detail"]],inputs:{person:"person"},decls:10,vars:12,consts:[["fxLayout","column","fxLayoutGap","3px","fxLayoutAlign","center center"],[3,"routerLink"],["mat-card-image","","appPosterImage","",3,"default_size","path","size","alt"],[1,"name"],["fxLayout","row","fxLayoutAlign","center"]],template:function(i,n){1&i&&(e.TgZ(0,"mat-card")(1,"mat-card-content",0)(2,"a",1),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"b",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"p"),e._uU(8),e.ALo(9,"number"),e.qZA()()()()),2&i&&(e.xp6(2),e.Q6J("routerLink",e.VKq(10,A,n.person.id)),e.xp6(1),e.s9C("alt",n.person.name),e.Q6J("default_size",!0)("path",n.person.profile_path)("size",n.PROFILE_IMAGE_SIZES.W185),e.xp6(2),e.Oqu(n.person.name),e.xp6(3),e.hij("Popularity: ",e.xi3(9,7,n.person.popularity,"1.0-0"),"%"))},dependencies:[c.rH,g.a8,g.dn,g.G2,p.xw,p.SQ,p.Wh,m.QF,r.JJ]})}return t})();function w(t,s){1&t&&e._UZ(0,"app-people-mini-detail",1),2&t&&e.Q6J("person",s.$implicit)}function U(t,s){if(1&t&&e.SjG(0,w,1,1,"app-people-mini-detail",2,e.x6l),2&t){const o=e.oxw();e.wJu(o.people)}}function M(t,s){1&t&&(e.TgZ(0,"h3"),e._uU(1,"No results found"),e.qZA())}let v=(()=>{class t{constructor(){this.endList=new e.vpe,this.debouncer=new L.xQ,this.debouncer.pipe((0,x.b)(1e3)).subscribe(o=>this.endList.emit(o))}ngOnInit(){}emitEnd(){this.debouncer.next(!0)}handleScroll(o){o.isReachingBottom&&this.emitEnd()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-mini-detail-list"]],inputs:{people:"people"},outputs:{endList:"endList"},decls:3,vars:3,consts:[["libScrollEvent","","fxLayout","row wrap","fxLayoutGap","20px",3,"bottomOffset","onscroll"],[1,"mini-detail",3,"person"],["class","mini-detail",3,"person"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.NdJ("onscroll",function(Pe){return n.handleScroll(Pe)}),e.YNc(1,U,2,0)(2,M,2,0,"h3"),e.qZA()),2&i&&(e.Q6J("bottomOffset",400),e.xp6(1),e.um2(1,n.people.length>0?1:-1),e.xp6(1),e.um2(2,0===n.people.length?2:-1))},dependencies:[p.xw,p.SQ,m.NC,S],styles:[".mini-detail[_ngcontent-%COMP%]{margin-top:20px}"]})}return t})();function O(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"app-people-mini-detail-list",6),e.NdJ("endList",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.getNextPage())}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("people",o.people)}}function I(t,s){1&t&&e._UZ(0,"mat-progress-bar",5)}function D(t,s){1&t&&(e.TgZ(0,"h5"),e._uU(1," End of resutls"),e.qZA())}let F=(()=>{class t{constructor(o){this.peopleService=o,this.loading_results=!1,this.page=0,this.resultsLength=20}updateData(){this.peopleService.getPopular(this.page).subscribe(o=>{this.people=this.people.concat(o.results),this.totalPages=o.total_pages,this.loading_results=!1,this.resultsLength=o.total_results,this.preloadPage()})}getNextPage(){this.page>=this.totalPages||(this.page=this.page+1,this.loading_results=!0,this.updateData())}preloadPage(){const o=this.page+1;o>=this.totalPages||this.peopleService.getPopular(o)}ngOnInit(){this.peopleService.getPopular().subscribe(o=>{this.people=o.results,this.resultsLength=o.total_results,this.totalPages=o.total_pages,this.people=o.results})}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(l.gP))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-home"]],decls:11,vars:3,consts:[[1,"container"],[1,"movies"],["fxLayout","row","fxLayoutAlign","center","fxLayoutGap","20px"],["fxLayout","column"],[3,"people"],["mode","indeterminate"],[3,"people","endList"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"People"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h3"),e._uU(7,"Popular people"),e.qZA(),e.YNc(8,O,1,1,"app-people-mini-detail-list",4),e.qZA()()(),e.YNc(9,I,1,0,"mat-progress-bar",5)(10,D,2,0,"h5"),e.qZA()),2&i&&(e.xp6(8),e.um2(8,n.people?8:-1),e.xp6(1),e.um2(9,n.loading_results?9:-1),e.xp6(1),e.um2(10,n.page===n.totalPages?10:-1))},dependencies:[C.pW,p.xw,p.SQ,p.Wh,v]})}return t})();var h=a(393),J=a(9098),y=a(6489),f=a(9984),P=a(9279),E=a(1152);function q(t,s){if(1&t&&(e.TgZ(0,"h4"),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.personCredit.title)}}function G(t,s){if(1&t&&(e.TgZ(0,"h4"),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.personCredit.name)}}function Q(t,s){if(1&t&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" Work as ",o.personCredit.job," ")}}function N(t,s){if(1&t&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" Interpreting ",o.personCredit.character," ")}}const j=()=>({"min-height.px":135}),H=t=>["/movies",t],Y=t=>["/tv",t],z=()=>({"max-width.px":"90"});let R=(()=>{class t{constructor(){this.POSTER_IMAGE_SIZES=l.pG}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-person-credits-combined-detail"]],inputs:{personCredit:"personCredit"},decls:22,vars:21,consts:[["fxLayout","row","fxLayoutGap","12px","fxLayoutAlign","left center",1,"credit",3,"ngStyle"],[3,"routerLink"],["appZoomImage","","position_hover","relative","appPosterImage","","alt","movie poster image","srcset","",1,"credit-image",3,"ngStyle","path","size"],["fxLayout","column","fxLayoutAlign","center","fxLayoutGap","8px"],["fxLayout","row","fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","left center"],["fxFlexAlign","center"],["class","info"],[1,"info"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div")(2,"a",1),e._UZ(3,"img",2),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,q,2,1,"h4")(6,G,2,1,"h4"),e.TgZ(7,"div",4)(8,"span"),e._uU(9,"Vote average: "),e.qZA(),e.TgZ(10,"div",5)(11,"mat-icon",6),e._uU(12,"star_rate"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"span"),e._uU(16),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"number"),e.qZA()(),e.YNc(20,Q,2,1,"div",7)(21,N,2,1,"div",7),e.qZA()()),2&i&&(e.Q6J("ngStyle",e.DdM(15,j)),e.xp6(2),e.Q6J("routerLink",n.personCredit.title?e.VKq(16,H,n.personCredit.id):e.VKq(18,Y,n.personCredit.id)),e.xp6(1),e.Q6J("ngStyle",e.DdM(20,z))("path",n.personCredit.poster_path)("size",n.POSTER_IMAGE_SIZES.W154),e.xp6(2),e.um2(5,n.personCredit.title?5:-1),e.xp6(1),e.um2(6,n.personCredit.name?6:-1),e.xp6(8),e.Oqu(n.personCredit.vote_average),e.xp6(2),e.hij("Votes: ",n.personCredit.vote_count,""),e.xp6(2),e.hij("Popularity: ",e.xi3(19,12,n.personCredit.popularity,"1.0-0"),"%"),e.xp6(2),e.um2(20,n.personCredit.job?20:-1),e.xp6(1),e.um2(21,n.personCredit.character?21:-1))},dependencies:[c.rH,f.Hw,p.xw,p.SQ,p.Wh,p.XD,P.Zl,m.QF,m.Vs,r.PC,r.JJ],styles:[".credit-image[_ngcontent-%COMP%]{min-width:90px;min-height:135px}.credit[_ngcontent-%COMP%]{background-color:#141414}"]})}return t})();function W(t,s){1&t&&(e.TgZ(0,"app-person-credits-combined-detail",2),e._uU(1,"> "),e.qZA()),2&t&&e.Q6J("personCredit",s.$implicit)}function V(t,s){if(1&t&&(e.TgZ(0,"div",1)(1,"h3"),e._uU(2,"Cast "),e.qZA(),e.SjG(3,W,2,1,"app-person-credits-combined-detail",2,e.x6l),e.ALo(5,"slice"),e.qZA()),2&t){const o=e.oxw();e.Q6J("fxFlex",o.personCreditsCombined.crew.length>0?"50%":"100%"),e.xp6(3),e.wJu(e.Dn7(5,1,o.personCreditsCombined.cast,0,7))}}function B(t,s){1&t&&e._UZ(0,"app-person-credits-combined-detail",2),2&t&&e.Q6J("personCredit",s.$implicit)}function K(t,s){if(1&t&&(e.TgZ(0,"div",1)(1,"h3"),e._uU(2,"Crew "),e.qZA(),e.SjG(3,B,1,1,"app-person-credits-combined-detail",2,e.x6l),e.ALo(5,"slice"),e.qZA()),2&t){const o=e.oxw();e.Q6J("fxFlex",o.personCreditsCombined.cast.length>0?"50%":"100%"),e.xp6(3),e.wJu(e.Dn7(5,1,o.personCreditsCombined.crew,0,7))}}let X=(()=>{class t{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-person-credits-combined-list"]],inputs:{personCreditsCombined:"personCreditsCombined"},decls:3,vars:2,consts:[["fxLayoutGap","15px","fxLayout","row"],["fxLayout","column","fxLayoutGap","15px",3,"fxFlex"],[3,"personCredit"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,V,6,5,"div",1)(2,K,6,5,"div",1),e.qZA()),2&i&&(e.xp6(1),e.um2(1,n.personCreditsCombined.cast.length>0?1:-1),e.xp6(1),e.um2(2,n.personCreditsCombined.crew.length>0?2:-1))},dependencies:[p.xw,p.SQ,p.yH,R,r.OU]})}return t})();const $=["profilesGallery"];function k(t,s){1&t&&e._uU(0," Open profile images ")}function ee(t,s){1&t&&e._uU(0," No profile images available ")}function te(t,s){1&t&&e._uU(0,"Open profile images ")}function oe(t,s){if(1&t&&(e.TgZ(0,"div",19)(1,"small"),e._uU(2),e.ALo(3,"slice"),e.qZA()()),2&t){const o=e.oxw(2);e.xp6(2),e.hij("Also known as: ",e.Dn7(3,1,o.person.also_known_as,0,2).join(", "),"")}}function ie(t,s){if(1&t&&(e.TgZ(0,"div",19)(1,"mat-icon"),e._uU(2,"today"),e.qZA(),e.TgZ(3,"small"),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&t){const o=e.oxw(2);e.xp6(4),e.hij("Birth date: ",e.xi3(5,1,o.person.birthday,"dd/MM/yyyy"),"")}}function ne(t,s){if(1&t&&(e.TgZ(0,"div",19)(1,"mat-icon"),e._uU(2,"today"),e.qZA(),e.TgZ(3,"small"),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&t){const o=e.oxw(2);e.xp6(4),e.hij("Dead date: ",e.xi3(5,1,o.person.deathday,"dd/MM/yyyy"),"")}}function se(t,s){if(1&t&&(e.TgZ(0,"div",20)(1,"h4"),e._uU(2,"Biography"),e.qZA(),e.TgZ(3,"p",21),e._uU(4),e.qZA()()),2&t){const o=e.oxw(2);e.xp6(4),e.hij("",o.person.biography," ")}}function ae(t,s){if(1&t&&(e.TgZ(0,"div",22)(1,"h4"),e._uU(2,"Biography not available"),e.qZA(),e.TgZ(3,"p",21),e._uU(4),e.qZA()()),2&t){const o=e.oxw(2);e.xp6(4),e.Oqu(o.person.biography)}}const pe=t=>({"max-width.px":t});function le(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"img",5),e.TgZ(5,"div",6)(6,"button",7),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.openProfileImages())}),e.YNc(7,k,1,0)(8,ee,1,0)(9,te,1,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"h2",11),e._uU(14),e.qZA()(),e.TgZ(15,"div",12),e.YNc(16,oe,4,5,"div",13)(17,ie,6,4,"div",13)(18,ne,6,4,"div",13),e.qZA(),e.YNc(19,se,5,1,"div",14)(20,ae,5,1),e.qZA()()(),e._UZ(21,"app-full-screen-gallery",15,16),e.TgZ(23,"mat-tab-group")(24,"mat-tab",17)(25,"div",2),e._UZ(26,"app-person-credits-combined-list",18),e.qZA()()()()}if(2&t){const o=e.oxw();e.xp6(4),e.Q6J("ngStyle",e.VKq(15,pe,o.PROFILE_IMAGE_SIZES.W185.width))("path",o.person.profile_path)("size",o.PROFILE_IMAGE_SIZES.W185),e.xp6(2),e.Q6J("disabled",0===o.person.images.profiles.length)("matBadge",o.person.images.profiles.length),e.xp6(1),e.um2(7,0!==o.person.images.profiles.length?7:8),e.xp6(7),e.hij("",o.person.name," "),e.xp6(2),e.um2(16,o.person.also_known_as.length>0?16:-1),e.xp6(1),e.um2(17,o.person.birthday?17:-1),e.xp6(1),e.um2(18,o.person.deathday?18:-1),e.xp6(1),e.um2(19,o.person.biography?19:20),e.xp6(2),e.Q6J("mediaType",o.personType)("imageType",o.profileImageType)("images",o.person.images.profiles),e.xp6(5),e.Q6J("personCreditsCombined",o.person.movie_credits)}}let re=(()=>{class t{constructor(o,i){this.route=o,this.peopleService=i,this.profileImageType=l.j4.PROFILE,this.personType=l.L5.PERSON,this.PROFILE_IMAGE_SIZES=l.VI,this.person=new l.Fc}ngOnInit(){this.route.data.subscribe(o=>{this.person=o.person})}openProfileImages(){this.profilesGallery.openPreviewImages()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(c.gz),e.Y36(l.gP))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-person-detail"]],viewQuery:function(i,n){if(1&i&&e.Gf($,5),2&i){let u;e.iGM(u=e.CRH())&&(n.profilesGallery=u.first)}},decls:1,vars:1,consts:[["class","fill-available"],[1,"fill-available"],[1,"container"],["fxLayout","row","fxLayoutGap","20px"],["fxLayoutAlign","center center","fxLayout","column","fxFlex","20%","fxFlex.sm","100%",1,"profile-image"],["appProfileImage","","alt","person_profile_image","srcset","",1,"image",3,"ngStyle","path","size"],[1,"open-profile-images"],["mat-button","",1,"open-button",3,"disabled","matBadge","click"],["images",""],[1,"col-9"],[1,"row"],[1,"name"],[1,"row","birth-day"],["class","mini-detail-element"],["fxLayout","column","fxLayoutAlign","left left","class","biography"],[3,"mediaType","imageType","images"],["profilesGallery",""],["label","Movie Credits"],[3,"personCreditsCombined"],[1,"mini-detail-element"],["fxLayout","column","fxLayoutAlign","left left",1,"biography"],["align","justify"],[1,"biography","row"]],template:function(i,n){1&i&&e.YNc(0,le,27,17,"div",0),2&i&&e.um2(0,n.person?0:-1)},dependencies:[h.lW,J.k,y.uX,y.SP,f.Hw,p.xw,p.SQ,p.Wh,p.yH,P.Zl,E.QI,m.ZN,r.PC,X,r.OU,r.uU],styles:[".biography[_ngcontent-%COMP%]{margin-top:3%}.profile-image[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:5%}.mini-detail-element[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-top:.3em;margin-right:1em}.fill-available[_ngcontent-%COMP%]{min-height:100%;min-height:-webkit-fill-available;min-height:-moz-available;min-height:stretch}.profile-image[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{opacity:.3}.profile-image[_ngcontent-%COMP%]:hover   .open-profile-images[_ngcontent-%COMP%]{opacity:1}.profile-image[_ngcontent-%COMP%]{width:100%;position:relative}.open-profile-images[_ngcontent-%COMP%]{transition:.2s ease;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);text-align:center}.open-profile-images[_ngcontent-%COMP%]   .open-button[_ngcontent-%COMP%]{background-color:purple}"]})}return t})();var ce=a(9335);let Z=(()=>{class t{constructor(o,i){this.peopleService=o,this.router=i}resolve(o){return this.peopleService.get(o.params.id,{images:!0,videos:!0,movie_credits:!0,tv_credits:!0}).pipe((0,ce.K)(n=>this.router.navigateByUrl("/")))}static#e=this.\u0275fac=function(i){return new(i||t)(e.LFG(l.gP),e.LFG(c.F0))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var me=a(7739),d=a(3226),de=a(6482),ue=a(5735),T=a(2733);function ge(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.searchCtrl.setValue(""))}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function he(t,s){1&t&&e._UZ(0,"mat-progress-bar",5)}function fe(t,s){1&t&&(e.TgZ(0,"h5"),e._uU(1," End of resutls"),e.qZA())}let _e=(()=>{class t{constructor(o,i){this._route=o,this.peopleService=i,this.people=new Array,this.loading_results=!1,this.searchCtrl=new d.p4,this.page=0,this.resultsLength=20,this.searchValueChages=this.searchCtrl.valueChanges.pipe((0,x.b)(400),(0,de.x)())}updateData(){this.peopleResults$=this.peopleService.searchPeople(this.searchCtrl.value,this.page),this.peopleResults$.subscribe(o=>{this.people=this.people.concat(o.results),this.totalPages=o.total_pages,this.loading_results=!1,this.resultsLength=o.total_results,this.preloadPage()})}preloadPage(){const o=this.page+1;o>=this.totalPages||this.peopleService.searchPeople(this.searchCtrl.value,o)}getNextPage(){this.page>=this.totalPages||(this.page=this.page+1,this.loading_results=!0,this.updateData())}ngOnInit(){this.searchValueChages.subscribe(()=>{this.people=new Array,this.page=0,this.updateData()}),this._route.data.subscribe(o=>{this.peopleResults$=(0,me.of)(o.peopleResult),this.resultsLength=o.peopleResult.total_results,this.totalPages=o.peopleResult.total_pages,this.people=o.peopleResult.results})}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(c.gz),e.Y36(l.gP))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-search"]],decls:7,vars:5,consts:[[1,"container"],[1,"search-field"],["matInput","","placeholder","Search people",3,"formControl"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear"],[3,"people","endList"],["mode","indeterminate"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"mat-form-field",1),e._UZ(2,"input",2),e.YNc(3,ge,3,0,"button",3),e.qZA(),e.TgZ(4,"app-people-mini-detail-list",4),e.NdJ("endList",function(){return n.getNextPage()}),e.qZA(),e.YNc(5,he,1,0,"mat-progress-bar",5)(6,fe,2,0,"h5"),e.qZA()),2&i&&(e.xp6(2),e.Q6J("formControl",n.searchCtrl),e.xp6(1),e.um2(3,n.searchCtrl.value?3:-1),e.xp6(1),e.Q6J("people",n.people),e.xp6(1),e.um2(5,n.loading_results?5:-1),e.xp6(1),e.um2(6,n.page===n.totalPages?6:-1))},dependencies:[h.lW,h.RK,ue.Nt,T.KE,T.R9,f.Hw,C.pW,d.Fj,d.JJ,d.oH,v]})}return t})();var Ce=a(2715);const xe=[{path:"",component:F},{path:":id",component:re,resolve:{person:Z}},{path:"search/:query",component:_e,resolve:{peopleResult:Ce.r}}];let ve=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(xe),c.Bz]})}return t})(),ye=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({providers:[l.gP,Z],imports:[b.m,ve,r.ez]})}return t})()}}]);